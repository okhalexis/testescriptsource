--[[
    HUB DE SCRIPTS - PLACE ID DETECTION SYSTEM
]]

local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/okhalexis/source/refs/heads/main/trse1')))()

local Window = OrionLib:MakeWindow({
    Name = "KHALEXIS HUB V3.1",
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = "OrionHubConfig",
    IntroEnabled = true,
    IntroText = "Khalexis Hub"
})

-- ÍCONE DA DIGITAL (FINGERPRINT)
local IconeDigital = "rbxassetid://3944703587"

-- TABELA DE CONFIGURAÇÃO DOS JOGOS
local JogosDisponiveis = {
    {
        Name = "Break a Lucky Block",
        PlaceId = 124311897657957,
        Icon = "rbxassetid://4483345998",
        ScriptFunc = function(Tab)
            Tab:AddSection({ Name = "Break a Lucky Block Scripts" })
            
            Tab:AddButton({
                Name = "TORA ISME",
                Icon = IconeDigital,
                Callback = function()
                    loadstring(game:HttpGet("https://raw.githubusercontent.com/gumanba/Scripts/main/BreakaLuckyBlock"))()
                end    
            })

            Tab:AddButton({
                Name = "SPEED HUB X",
                Icon = IconeDigital,
                Callback = function()
                    loadstring(game:HttpGet("https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua", true))()
                end    
            })

            Tab:AddButton({
                Name = "LUMIN HUB",
                Icon = IconeDigital,
                Callback = function()
                    loadstring(game:HttpGet("http://luminon.top/loader.lua"))()
                end    
            })

            Tab:AddButton({
                Name = "MAX37",
                Icon = IconeDigital,
                Callback = function()
                    loadstring(game:HttpGet("https://gist.githubusercontent.com/ichtretekinder122/df01c6cbf8f79daf87a7416a91d1ea52/raw/lucky%20block" .. "?t=" .. tostring(math.random(1, 100000))))()
                end    
            })
        end
    },
    {
        Name = "Escape Tsunami for Brainrots",
        PlaceId = 131623223084840,
        Icon = "rbxassetid://4483345998",
        ScriptFunc = function(Tab)
            Tab:AddSection({ Name = "Escape Tsunami for Brainrots Scripts" })
            Tab:AddButton({
                Name = "KLS HUB",
                Icon = IconeDigital,
                Callback = function()
                    loadstring(game:HttpGet("https://raw.githubusercontent.com/okhalexis/khalexishub/refs/heads/main/10k"))()
                end    
            })
        end
    }
}

-- LÓGICA DE ORDENAÇÃO AUTOMÁTICA
local CurrentPlaceId = game.PlaceId
local CurrentGameData = nil

-- 1. Verifica se estamos em um jogo suportado
for i, jogo in pairs(JogosDisponiveis) do
    if jogo.PlaceId == CurrentPlaceId then
        CurrentGameData = jogo
        table.remove(JogosDisponiveis, i) -- Remove da lista para não duplicar
        break
    end
end

-- 2. Se achou o jogo atual, cria a aba dele PRIMEIRO (Ficará logo abaixo de Favoritos)
if CurrentGameData then
    local Tab = Window:MakeTab({
        Name = "⭐ " .. CurrentGameData.Name, -- Adiciona a estrela no título da aba
        Icon = CurrentGameData.Icon,
        PremiumOnly = false
    })
    -- Executa a função que cria os botões dentro da aba
    CurrentGameData.ScriptFunc(Tab)
    
    OrionLib:MakeNotification({
        Name = "Jogo Detectado!",
        Content = "Scripts para " .. CurrentGameData.Name .. " carregados no topo.",
        Image = "rbxassetid://4483345998",
        Time = 5
    })
end

-- 3. Cria as abas dos outros jogos normalmente
for _, jogo in pairs(JogosDisponiveis) do
    local Tab = Window:MakeTab({
        Name = jogo.Name,
        Icon = jogo.Icon,
        PremiumOnly = false
    })
    jogo.ScriptFunc(Tab)
end

-- Inicializa
OrionLib:Init()
